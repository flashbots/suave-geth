package main

import (
	"strings"

	"github.com/ethereum/go-ethereum/accounts/abi"
)

func mustParseAbi(data string) abi.ABI {
	inoutAbi, err := abi.JSON(strings.NewReader(data))
	if err != nil {
		panic(err.Error())
	}

	return inoutAbi
}

var (
	suaveLibAbi = mustParseAbi(`[{ "inputs": [ { "components": [ { "internalType": "bytes32", "name": "parent", "type": "bytes32" }, { "internalType": "uint64", "name": "timestamp", "type": "uint64" }, { "internalType": "address", "name": "feeRecipient", "type": "address" }, { "internalType": "uint64", "name": "gasLimit", "type": "uint64" }, { "internalType": "bytes32", "name": "random", "type": "bytes32" }, { "components": [ { "internalType": "uint64", "name": "index", "type": "uint64" }, { "internalType": "uint64", "name": "validator", "type": "uint64" }, { "internalType": "address", "name": "Address", "type": "address" }, { "internalType": "uint64", "name": "amount", "type": "uint64" } ], "internalType": "struct Suave.Withdrawal[]", "name": "withdrawals", "type": "tuple[]" } ], "internalType": "struct Suave.BuildBlockArgs", "name": "blockArgs", "type": "tuple" }, { "internalType": "Suave.BidId", "name": "bid", "type": "bytes16" } ], "name": "buildEthBlock", "outputs": [ { "internalType": "bytes", "name": "", "type": "bytes" }, { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "", "type": "address" }, { "internalType": "bytes", "name": "", "type": "bytes" } ], "name": "PeekerReverted", "type": "error" }, {"inputs":[{"internalType":"uint64","name":"cond","type":"uint64"}],"name":"fetchBids","outputs":[{"components":[{"internalType":"Suave.BidId","name":"id","type":"bytes16"},{"internalType":"uint64","name":"decryptionCondition","type":"uint64"},{"internalType":"address[]","name":"allowedPeekers","type":"address[]"}],"internalType":"struct Suave.Bid[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"}]`)

	bundleBidAbi = mustParseAbi(`[ { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "Suave.BidId", "name": "bidId", "type": "bytes16" }, { "indexed": false, "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "indexed": false, "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "name": "BidEvent", "type": "event" }, { "inputs": [ { "components": [ { "internalType": "Suave.BidId", "name": "id", "type": "bytes16" }, { "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "internalType": "struct Suave.Bid", "name": "bid", "type": "tuple" } ], "name": "emitBid", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "fetchBidConfidentialBundleData", "outputs": [ { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "internalType": "address[]", "name": "bidAllowedPeekers", "type": "address[]" } ], "name": "newBid", "outputs": [ { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "payable", "type": "function" } ]`)

	buildEthBlockAbi = mustParseAbi(`[ { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "Suave.BidId", "name": "bidId", "type": "bytes16" }, { "indexed": false, "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "indexed": false, "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "name": "BidEvent", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "Suave.BidId", "name": "bidId", "type": "bytes16" }, { "indexed": false, "internalType": "bytes", "name": "builderBid", "type": "bytes" } ], "name": "BuilderBoostBidEvent", "type": "event" }, { "inputs": [ { "components": [ { "internalType": "bytes32", "name": "parent", "type": "bytes32" }, { "internalType": "uint64", "name": "timestamp", "type": "uint64" }, { "internalType": "address", "name": "feeRecipient", "type": "address" }, { "internalType": "uint64", "name": "gasLimit", "type": "uint64" }, { "internalType": "bytes32", "name": "random", "type": "bytes32" }, { "components": [ { "internalType": "uint64", "name": "index", "type": "uint64" }, { "internalType": "uint64", "name": "validator", "type": "uint64" }, { "internalType": "address", "name": "Address", "type": "address" }, { "internalType": "uint64", "name": "amount", "type": "uint64" } ], "internalType": "struct Suave.Withdrawal[]", "name": "withdrawals", "type": "tuple[]" } ], "internalType": "struct Suave.BuildBlockArgs", "name": "blockArgs", "type": "tuple" }, { "internalType": "uint64", "name": "blockHeight", "type": "uint64" }, { "components": [ { "internalType": "Suave.BidId", "name": "id", "type": "bytes16" }, { "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "internalType": "struct Suave.Bid[]", "name": "bids", "type": "tuple[]" } ], "name": "build", "outputs": [ { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "components": [ { "internalType": "bytes32", "name": "parent", "type": "bytes32" }, { "internalType": "uint64", "name": "timestamp", "type": "uint64" }, { "internalType": "address", "name": "feeRecipient", "type": "address" }, { "internalType": "uint64", "name": "gasLimit", "type": "uint64" }, { "internalType": "bytes32", "name": "random", "type": "bytes32" }, { "components": [ { "internalType": "uint64", "name": "index", "type": "uint64" }, { "internalType": "uint64", "name": "validator", "type": "uint64" }, { "internalType": "address", "name": "Address", "type": "address" }, { "internalType": "uint64", "name": "amount", "type": "uint64" } ], "internalType": "struct Suave.Withdrawal[]", "name": "withdrawals", "type": "tuple[]" } ], "internalType": "struct Suave.BuildBlockArgs", "name": "blockArgs", "type": "tuple" }, { "internalType": "uint64", "name": "blockHeight", "type": "uint64" } ], "name": "buildFromPool", "outputs": [ { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "components": [ { "internalType": "Suave.BidId", "name": "id", "type": "bytes16" }, { "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "internalType": "struct Suave.Bid", "name": "bid", "type": "tuple" } ], "name": "emitBid", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "components": [ { "internalType": "Suave.BidId", "name": "id", "type": "bytes16" }, { "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "internalType": "struct Suave.Bid", "name": "bid", "type": "tuple" }, { "internalType": "bytes", "name": "builderBid", "type": "bytes" } ], "name": "emitBuilderBidAndBid", "outputs": [ { "components": [ { "internalType": "Suave.BidId", "name": "id", "type": "bytes16" }, { "internalType": "uint64", "name": "decryptionCondition", "type": "uint64" }, { "internalType": "address[]", "name": "allowedPeekers", "type": "address[]" } ], "internalType": "struct Suave.Bid", "name": "", "type": "tuple" }, { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [ { "internalType": "Suave.BidId", "name": "bidId", "type": "bytes16" }, { "internalType": "bytes", "name": "signedBlindedHeader", "type": "bytes" } ], "name": "unlock", "outputs": [ { "internalType": "bytes", "name": "", "type": "bytes" } ], "stateMutability": "nonpayable", "type": "function" } ]`)
)
